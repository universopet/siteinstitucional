"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[803],{7839:(e,n,t)=>{t.d(n,{A:()=>m});var s=t(6087),i=t(8468),a=t(9491),o=t(8558),r=t(8107),d=t(790);const l=()=>{},c=["menuitem","menuitemradio","menuitemcheckbox"];class _ extends i.Component{constructor(){super(...arguments),this.onKeyDown=this.onKeyDown.bind(this),this.bindContainer=this.bindContainer.bind(this),this.getFocusableContext=this.getFocusableContext.bind(this),this.getFocusableIndex=this.getFocusableIndex.bind(this)}componentDidMount(){this.container.addEventListener("keydown",this.onKeyDown),this.container.addEventListener("focus",this.onFocus)}componentWillUnmount(){this.container.removeEventListener("keydown",this.onKeyDown),this.container.removeEventListener("focus",this.onFocus)}bindContainer(e){const{forwardedRef:n}=this.props;this.container=e,"function"==typeof n?n(e):n&&"current"in n&&(n.current=e)}getFocusableContext(e){const{onlyBrowserTabstops:n}=this.props,t=(n?r.focus.tabbable:r.focus.focusable).find(this.container),s=this.getFocusableIndex(t,e);return s>-1&&e?{index:s,target:e,focusables:t}:null}getFocusableIndex(e,n){const t=e.indexOf(n);if(-1!==t)return t}onKeyDown(e){this.props.onKeyDown&&this.props.onKeyDown(e);const{getFocusableContext:n}=this,{cycle:t=!0,eventToOffset:s,onNavigate:i=l,stopNavigationEvents:a}=this.props,o=s(e);if(void 0!==o&&a){e.stopImmediatePropagation();const n=e.target.getAttribute("role");c.includes(n)&&e.preventDefault()}if(!o)return;const r=n(e.target.ownerDocument.activeElement);if(!r)return;const{index:d,focusables:_}=r,b=t?function(e,n,t){const s=e+t;return s<0?n+s:s>=n?s-n:s}(d,_.length,o):d+o;b>=0&&b<_.length&&(_[b].focus(),i(b,_[b]))}render(){const{children:e,...n}=this.props;return(0,d.jsx)("div",{ref:this.bindContainer,...(0,s.omit)(n,["stopNavigationEvents","eventToOffset","onNavigate","onKeyDown","cycle","onlyBrowserTabstops","forwardedRef"]),children:e})}}const b=(e,n)=>(0,d.jsx)(_,{...e,forwardedRef:n});b.displayName="NavigableContainer";const p=(0,i.forwardRef)(b),g=(0,i.forwardRef)((function({role:e="menu",orientation:n="vertical",...t},i){return(0,d.jsx)(p,{ref:i,stopNavigationEvents:!0,onlyBrowserTabstops:!1,role:e,"aria-orientation":"presentation"===e?null:n,eventToOffset:e=>{const{keyCode:t}=e;let i=[o.DOWN],a=[o.UP];return"horizontal"===n&&(i=[o.RIGHT],a=[o.LEFT]),"both"===n&&(i=[o.RIGHT,o.DOWN],a=[o.LEFT,o.UP]),(0,s.includes)(i,t)?1:(0,s.includes)(a,t)?-1:(0,s.includes)([o.DOWN,o.UP,o.LEFT,o.RIGHT],t)?0:void 0},...t})}));(0,i.forwardRef)((function({eventToOffset:e,...n},t){return(0,d.jsx)(p,{ref:t,stopNavigationEvents:!0,onlyBrowserTabstops:!0,eventToOffset:n=>{const{keyCode:t,shiftKey:s}=n;return o.TAB===t?s?-1:1:e?e(n):void 0},...n})}));var u=t(6427);const h=()=>{},v=({tabId:e,onClick:n,children:t,selected:s,triggerEvent:i,handleEvent:a,tabName:o,...r})=>{const l=f(i,a,o);return(0,d.jsx)(u.Button,{role:"tab",tabIndex:s?null:-1,"aria-selected":s,id:e,...l,...r,children:t})},f=(e,n,t)=>{const s=(0,i.useCallback)((()=>n(t)),[n,t]);return"click"===e?{onClick:s}:{onMouseOver:s}};function m({className:e,children:n,tabs:t,initialTabName:o,orientation:r="horizontal",activeClass:l="is-active",notActiveClass:c="is-not-active",callback:_,onSelect:b=h,triggerEvent:p}){var u;const f=(0,a.useInstanceId)(m,"tab-panel"),[x,w]=(0,i.useState)(null),j=e=>{w(e),b(e);const n=(0,s.find)(t,{name:e});"function"==typeof _&&_(n)},N=(0,s.find)(t,{name:x}),y=`${f}-${null!==(u=N?.name)&&void 0!==u?u:"none"}`;return(0,i.useEffect)((()=>{(0,s.find)(t,{name:x})||w(o||(t.length>0?t[0].name:null))}),[t]),(0,d.jsxs)("div",{className:e,children:[(0,d.jsx)(g,{role:"tablist",orientation:r,onNavigate:(e,n)=>{n.click()},className:"components-tab-panel__tabs",children:t.map((e=>(0,d.jsx)(v,{className:`components-tab-panel__tabs-item ${e.name===x&&l} ${e.name!==x&&c}`,tabId:`${f}-${e.name}`,"aria-controls":`${f}-${e.name}-view`,selected:e.name===x,triggerEvent:p,handleEvent:j,tabName:e.name,children:e.title},e.name)))}),N&&(0,d.jsx)("div",{"aria-labelledby":y,role:"tabpanel",id:`${y}-view`,className:"components-tab-panel__tab-content",children:n&&n(N)},y)]})}},8053:(e,n,t)=>{t.d(n,{A:()=>a});var s=t(5573),i=t(790);const a=(0,i.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(s.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})})},8803:(e,n,t)=>{t.r(n),t.d(n,{default:()=>f});var s=t(6427),i=t(8468),a=t(8053),o=t(7143),r=t(7723),d=t(7675),l=t(8969),c=t(7839),_=t(6087),b=t(7517),p=t(7044),g=t(1056),u=t(2202),h=t(8744),v=t(790);const f=(0,i.memo)((()=>{const[e,n]=(0,i.useState)(),[t,f]=(0,i.useState)(),[m,x]=(0,i.useState)(),[w,j]=(0,i.useState)(),{currentData:N,isSidebarOpened:y,sideBarView:k}=(0,o.useSelect)((e=>({currentData:e(d.M).getCurrentOnboardingData(),isSidebarOpened:e(d.M).isSidebarOpened(),sideBarView:e(d.M).getSidebarView()}))),{setIsSidebarOpened:C,setCurrentOnboardingData:D}=(0,o.useDispatch)(d.M),E=(n,t)=>{if(!(n in e))return!1;N.sitegen.homepages.active=e[n],f(e[n]),D(N),(0,g.v)(new g.iC(u.Wi,n,{position:t+1,source:h.d0}))},O=(t,s)=>{if(!(t in e))return;const i=!e[t].isFavorite,a=(0,_.cloneDeep)(e);a[t].isFavorite=i,N.sitegen.homepages.data=a,N.sitegen.homepages.active.slug===t&&(N.sitegen.homepages.active=a[t]),n(a),D(N),(0,g.v)(new g.iC(u.Nz,t,{favorite:i,position:s+1,placement:"editor_sidebar",source:h.d0}))};return(0,i.useEffect)((()=>{l.V_===k&&y&&(async()=>{const e=await(0,b.w6)();x(e.body)})()}),[k,y]),(0,i.useEffect)((()=>{if(N?.sitegen?.homepages){const e=(0,_.cloneDeep)(N.sitegen.homepages);n(e.data),f(e.active)}}),[N]),(0,i.useEffect)((()=>{"favorites"!==w?.name&&j({name:"all_versions",title:(0,v.jsx)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab",children:(0,v.jsx)("p",{children:(0,r.__)("All Versions","wp-module-onboarding")})}),content:e&&t&&m&&Object.keys(e).map(((n,s)=>{const i=e[n],a=(0,_.cloneDeep)(m[0]);a.settings.color.palette=i.color.palette;let o="";return["header","content","footer"].forEach((e=>{e in i&&(o+=i[e])})),(0,v.jsxs)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container",children:[(0,v.jsx)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__previews",onClick:()=>E(i.slug,s),role:"button",tabIndex:0,onKeyDown:()=>E(i.slug,s),children:(0,v.jsx)(p.pA,{styling:i.slug!==t.slug?"custom":"custom__highlighted",blockGrammer:o,viewportWidth:1300,previewSettings:a,skeletonLoadingTime:0})}),(0,v.jsxs)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context",children:[(0,v.jsx)("div",{className:`nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context__icon ${i.isFavorite&&"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context__icon__fill"}`,role:"button",tabIndex:0,onClick:()=>O(i.slug,s),onKeyDown:()=>O(i.slug,s)}),(0,v.jsx)("p",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context__title",children:i.title})]})]},i.slug)}))})}),[e,t,m]),(0,v.jsx)(s.Fill,{name:`${l.St}/${l.V_}`,children:(0,v.jsx)(s.PanelBody,{className:"nfd-onboarding-sidebar--sitegen-editor-patterns",initialOpen:!0,children:(0,v.jsxs)(i.Suspense,{fallback:(0,v.jsx)(i.Fragment,{}),children:[(0,v.jsxs)(s.PanelHeader,{children:[(0,v.jsx)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header",children:(0,v.jsx)(c.A,{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel",tabs:[{name:"all_versions",title:(0,v.jsx)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab",children:(0,v.jsx)("p",{children:(0,r.__)("All Versions","wp-module-onboarding")})}),content:w&&e&&t&&m&&Object.keys(e).map(((n,s)=>{const i=e[n],a=(0,_.cloneDeep)(m[0]);a.settings.color.palette=i.color.palette;let o="";return["header","content","footer"].forEach((e=>{e in i&&(o+=i[e])})),(0,v.jsxs)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container",role:"button",tabIndex:0,onKeyDown:()=>E(i.slug,s),onClick:()=>E(i.slug,s),children:[(0,v.jsx)(p.pA,{styling:i.slug!==t.slug?"custom":"custom__highlighted",blockGrammer:o,viewportWidth:1300,previewSettings:a,skeletonLoadingTime:0}),(0,v.jsxs)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context",children:[(0,v.jsx)("div",{className:`nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context__icon ${i.isFavorite&&"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context__icon__fill"}`,role:"button",tabIndex:0,onKeyDown:()=>O(i.slug,s),onClick:()=>O(i.slug,s)}),(0,v.jsx)("p",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context__title",children:i.title})]})]},i.slug)}))},{name:"favorites",title:(0,v.jsxs)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__favorites-tab",children:[(0,v.jsx)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__favorites-tab__icon"}),(0,v.jsx)("p",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__favorites-tab__text",children:(0,r.__)("Favorites","wp-module-onboarding")})]}),content:w&&e&&t&&m&&Object.keys(e).map(((n,s)=>{const i=e[n];if(!i.isFavorite)return!1;const a=(0,_.cloneDeep)(m[0]);a.settings.color.palette=i.color.palette;let o="";return["header","content","footer"].forEach((e=>{e in i&&(o+=i[e])})),(0,v.jsxs)("div",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container",role:"button",tabIndex:0,onKeyDown:()=>E(i.slug,s),onClick:()=>E(i.slug,s),children:[(0,v.jsx)(p.pA,{styling:i.slug!==t.slug?"custom":"custom__highlighted",blockGrammer:o,viewportWidth:1300,previewSettings:a,skeletonLoadingTime:0}),(0,v.jsx)("p",{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__tab-panel__versions-tab__preview-container__context__title",children:i.title})]},i.slug)}))}],callback:e=>{(0,g.v)(new g.iC(u.cB,e.name,{source:h.d0})),j(e)},triggerEvent:"click"})}),(0,v.jsx)(s.Button,{className:"nfd-onboarding-sidebar--sitegen-editor-patterns__header__icon",onClick:()=>{C(!1)},icon:a.A})]}),w&&e&&t&&w.content]})})})}))}}]);