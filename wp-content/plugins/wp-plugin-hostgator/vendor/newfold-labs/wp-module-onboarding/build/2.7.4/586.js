"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[586],{513:(e,t,s)=>{s.d(t,{A:()=>l});var n=s(8468),a=s(7673),i=s(790);const l=(0,n.memo)((({title:e})=>(0,i.jsxs)("div",{className:"ai-heading",children:[(0,i.jsx)(a.A,{height:"40px"}),(0,i.jsx)("div",{className:"ai-heading--title",children:e})]})))},1586:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var n=s(9491),a=s(7143),i=s(8468),l=s(1056),o=s(7723);var r=s(1455),g=s.n(r);const d=e=>e?.length?e.map((e=>[e.name,e.code])):[["English (United States)","en_US"]];var c=s(431),u=s(513),h=s(3988),p=s(790);const m=(0,i.memo)((({hint:e,height:t,children:s,placeholder:n,customerInput:a,setCustomerInput:l,setCustomerInputStrength:o,customChildren:r=!1})=>{const g=(0,i.useRef)(null),[d,c]=(0,i.useState)("nfd-sg-input-box__field");(0,i.useEffect)((()=>{g.current.style.height=t;const e=g.current.scrollHeight;g.current.style.height=e+"px";const s=u(a?.trim());o(s)}),[a]);const u=e=>{const t=e?.length;let s=0;return t>200?s=3:t>150?s=2:t>100&&(s=1),s};return(0,p.jsx)("div",{className:"nfd-sg-input",children:(0,p.jsxs)("label",{htmlFor:d,children:[(0,p.jsx)("div",{className:"nfd-sg-input-box",children:(0,p.jsx)("textarea",{"data-wnd-ai-logo":!0,type:"text",className:d,ref:g,style:{height:"47px"},placeholder:n,value:a,onChange:e=>(e=>{e.preventDefault(),l(e.target.value),c("nfd-sg-input-box__field")})(e)})}),(0,p.jsxs)("div",{className:"nfd-sg-input-box_bottom",children:[(0,p.jsx)("p",{className:"nfd-sg-input-box__hint",children:e}),r&&s]})]})})}));var f=s(6999),b=s(1032);const x=(0,i.memo)((({languageSelectionLabel:e,languageList:t,selectedLocale:s,setSelectedLocale:n})=>(0,p.jsxs)("div",{className:"nfd-sg-language",children:[(0,p.jsx)("label",{htmlFor:"nfd-site-output__languages",className:"nfd-sg-language__label",children:e}),(0,p.jsxs)("select",{className:"nfd-sg-language__select",id:"nfd-site-output__languages",onChange:e=>{n(e.target.value)},value:s||"",children:[(0,p.jsx)("option",{value:"",children:"Choose a language"}),t.map((([e,t])=>(0,p.jsx)("option",{value:t,children:e},t)))]})]})));var v=s(8969),w=s(7675),_=s(2202),S=s(8744);const j=()=>{const[e,t]=(0,i.useState)(""),[s,r]=(0,i.useState)(0),[j,N]=(0,i.useState)(!1),[C,D]=(0,i.useState)([]),{currentData:L,storedLanguages:A}=(0,a.useSelect)((e=>({currentData:e(w.M).getCurrentOnboardingData(),storedLanguages:e(w.M).getLanguages()}))),[k,y]=(0,i.useState)(L?.sitegen?.siteDetails?.locale||""),{setIsFooterNavAllowed:E,setIsHeaderEnabled:I,setSidebarActiveView:T,setHeaderActiveView:H,setDrawerActiveView:U,setHideFooterNav:M,setCurrentOnboardingData:W,setIsHeaderNavigationEnabled:F,setStoreLanguages:O}=(0,a.useDispatch)(w.M),V=(0,n.useViewportMatch)("small"),P={heading:(0,o.__)("Tell me some details about the site you want created?","wp-module-onboarding"),inputPlaceholder:(0,o.__)("Bean There CafÃ© - A cozy, sustainable coffee shop in Asheville, North Carolina, focused on fair-trade coffee and local pastries. Their site will feature their menu, special events, and a blog on coffee culture.","wp-module-onboarding"),inputHint:(0,o.__)("Who is this site for? What's the ideal design?","wp-module-onboarding"),buttonText:(0,o.__)("Next","wp-module-onboarding"),walkThroughText:(0,o.__)("Not sure what to say? We can walk you through it.","wp-module-onboarding"),walkThroughlink:(0,o.__)("click here","wp-module-onboarding"),languageList:[[(0,o.__)("English (United States)","wp-module-onboarding"),"en_US"]],languageSelectionLabel:(0,o.__)("Choose your preferred site language:","wp-module-onboarding")};return(0,i.useEffect)((()=>{(async()=>{if(A?.length>0)D(d(A));else{const e=await(async()=>{const e=((t="languages").startsWith("/")&&(t=t.substring(1)),`${(window.wpApiSettings||{}).root||"/wp-json/"}newfold-onboarding/v1/${t}`);var t;try{const t=await g()({url:e});return t?.languages?.length?t.languages:[]}catch(e){return[{code:"en_US",name:"English (United States)",native_name:"English (United States)"}]}})();if(e?.length>0){const t=d(e);D(t),O(e)}}})()}),[A,O]),(0,i.useEffect)((()=>{const e=C?.length>0?C:P.languageList;if(e?.length>0&&!k){const e=(()=>{const e=C.length>0?C:P.languageList,t=e.find((([e])=>e.toLowerCase().includes("english"))),s=e[0]?e[0][1]:"";return t?t[1]:s})();y(e),e&&(L.sitegen.siteDetails.locale=e,W(L))}}),[C,k]),(0,i.useEffect)((()=>{if(M(!1),I(!0),T(!1),H(v.Ix),F(!0),U(!1),""!==L.sitegen.siteDetails?.prompt)return L.sitegen.siteDetails?.prompt.length<L.sitegen.siteDetails?.minCharLimit?(N(!1),E(!1),L.sitegen.siteDetails.prompt="",W(L)):(""!==k&&N(!0),E(!0)),t(L.sitegen.siteDetails.prompt);E(!1)}),[]),(0,i.useEffect)((()=>{if(void 0!==e){const t=e.trim();""!==t?(t!==L.sitegen.siteDetails.prompt&&(L.sitegen.siteDetails.prompt=t,L.sitegen.siteDetails.mode="simple",L.sitegen.skipCache=!0,L.sitegen.sitemapPagesGenerated=!1,L.sitegen.homepages.active={},L.sitegen.homepages.data={},W(L)),""!==k&&N(!0),E(!0)):(N(!1),E(!1)),k!==L.sitegen.siteDetails.locale&&(L.sitegen.siteDetails.locale=k,W(L))}}),[e,k]),(0,p.jsx)(b.tR,{children:(0,p.jsx)(h.A,{isCentered:!0,children:(0,p.jsx)(c.A,{type:"fade-in",children:(0,p.jsxs)("div",{className:"nfd-sg-site-details",children:[(0,p.jsx)(u.A,{title:P.heading}),(0,p.jsxs)(m,{placeholder:P.inputPlaceholder,hint:P.inputHint,height:"40px",customerInput:e,setCustomerInput:t,setCustomerInputStrength:r,customChildren:!0,children:[(0,p.jsx)(x,{languageSelectionLabel:P.languageSelectionLabel,languageList:C.length>0?C:P.languageList,selectedLocale:k,setSelectedLocale:y}),V&&(0,p.jsx)("div",{className:"nfd-sg-site-details-endrow",children:(0,p.jsx)(f.A,{className:"nfd-sg-site-details--next-btn",callback:()=>{(()=>{let t=!1;switch(s){case 2:t="MEDIUM";break;case 3:t="HIGH"}t&&(0,l.v)(new l.iC(_.WN,e,{strength:t,source:S.d0}))})()},text:P.buttonText,disabled:!j})})]})]})})})})}},6999:(e,t,s)=>{s.d(t,{A:()=>u});var n=s(6942),a=s.n(n),i=s(4348),l=s(7143),o=s(6427),r=s(7677),g=s(6655),d=s(7675),c=s(790);const u=({text:e,className:t,callback:s=null,disabled:n=!1,showChevronRight:u=!0})=>{const h=(0,i.Zp)(),{nextStep:p}=(0,l.useSelect)((e=>({nextStep:e(d.M).getNextStep()})));return(0,c.jsxs)(o.Button,{className:a()("nfd-onboarding-button--site-gen-next",{"nfd-onboarding-button--site-gen-next--disabled":n},t),onClick:()=>{n||(s&&"function"==typeof s&&s(),p&&h(p.path))},children:[(0,c.jsx)("p",{className:"nfd-onboarding-button--site-gen-next--text",children:e}),u&&(0,c.jsx)(r.A,{className:"nfd-onboarding-button--site-gen-next--icon",icon:g.A})]})}}}]);