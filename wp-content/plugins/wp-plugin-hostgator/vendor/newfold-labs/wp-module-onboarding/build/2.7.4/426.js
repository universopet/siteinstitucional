"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[426],{426:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(3988),n=s(8468),r=s(7143),i=s(7675),o=s(8969),c=s(7044),l=s(7517),d=s(6087),g=s(7708),p=s(1032),h=s(790);const u=()=>{const[e,t]=(0,n.useState)(!1),[s,u]=(0,n.useState)(!1),{setIsHeaderEnabled:y,setHeaderActiveView:m,setDrawerActiveView:b,setHideFooterNav:f,setCurrentOnboardingData:v,setIsHeaderNavigationEnabled:w}=(0,r.useDispatch)(i.M),{currentData:k,themeStatus:D}=(0,r.useSelect)((e=>({currentData:e(i.M).getCurrentOnboardingData(),themeStatus:e(i.M).getThemeStatus()})));return(0,n.useEffect)((()=>{o.Er===D&&(y(!0),m(o.Ix),b(!1),(async()=>{f(!0),y(!0),m(o.Ix),b(!1),w(!1);const e=k.sitegen.homepages.active;t(e);const s=await(0,l.w6)();u(s.body)})(),(async()=>{!1===k?.sitegen?.sitemapPagesGenerated&&((await(0,g.rZ)(k.sitegen.siteDetails.prompt,k.sitegen.siteDetails.locale)).error||(k.sitegen.sitemapPagesGenerated=!0,v(k)))})())}),[D]),(0,n.useEffect)((()=>{k?.sitegen?.homepages?.active&&t(k.sitegen.homepages.active)}),[k]),(0,h.jsx)(p.UX,{render:!1,children:(0,h.jsxs)(a.A,{isCentered:!0,className:"nfd-onboarding-step--site-gen__editor",children:[(0,h.jsx)("div",{className:"nfd-onboarding-step--site-gen__editor__live-preview",children:(()=>{if(!e||!s)return(0,h.jsx)(h.Fragment,{});let t=(0,d.cloneDeep)(s[0]);t.settings.color.palette=e.color.palette,e?.styles?.blocks?.length>0&&(t=(t=>{const s=e.styles.blocks[0];return s["core/heading"]&&(t.styles.blocks["core/heading"].typography.fontFamily=s["core/heading"].typography.fontFamily),s["core/body"]&&(t.styles.typography.fontFamily=s["core/body"].typography.fontFamily),t})(t));let a="";return["header","content","footer"].forEach((t=>{t in e&&(a+=e[t])})),(0,h.jsx)(c.pA,{blockGrammer:a,styling:"custom",previewSettings:t,viewportWidth:1300,skeletonLoadingTime:0})})()}),(0,h.jsx)("div",{className:"nfd-onboarding-screenshot-container"})]})})}}}]);