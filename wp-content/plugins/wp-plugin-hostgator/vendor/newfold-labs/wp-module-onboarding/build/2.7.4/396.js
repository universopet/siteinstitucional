"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[396],{9396:(e,n,s)=>{s.r(n),s.d(n,{default:()=>p});var o=s(1609),t=s(8468),a=s(7143),i=s(6427),l=s(7675),d=s(7723),c=s(1056),_=s(2202),r=s(8744),u=s(790);const m=({baseClassName:e,group:n,selectedGroup:s,handleGroupSelect:o})=>(0,u.jsx)("div",{className:`${e}__font-group__container`,children:(0,u.jsxs)("div",{className:`${e}__font-group__container__button`,role:"presentation",onClick:()=>o(n.id),children:[(0,u.jsx)("span",{className:`${e}__font-group__container__button__icon${s===n.id?" selected":""}`}),(0,u.jsxs)("div",{className:`${e}__font-group__container__button__font-name__container`,children:[(0,u.jsx)("span",{className:`${e}__font-group__container__button__font-name__container__heading`,style:{fontFamily:n.headings},children:n.headings}),(0,u.jsx)("br",{}),(0,u.jsx)("span",{className:`${e}__font-group__container__button__font-name__container__body`,style:{fontFamily:n.body},children:n.body})]}),0===n.id&&(0,u.jsx)("span",{className:"default",children:(0,d.__)("Default","wp-module-onboarding")})]})},n.id),h=({baseClassName:e,customFont:n,setCustomFont:s,handleCancelCustomFonts:o,handleApplyCustomFonts:t,renderFontOptions:a})=>(0,u.jsxs)("div",{className:`${e}__fonts-form__container`,children:[(0,u.jsx)("h5",{className:`${e}__heading`,children:(0,d.__)("CUSTOM FONTS","wp-module-onboarding")}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{htmlFor:"headings",children:(0,d.__)("Headings","wp-module-onboarding")}),(0,u.jsx)("br",{}),(0,u.jsxs)("select",{id:"headings",value:n.headings,onChange:e=>s({...n,headings:e.target.value}),children:[(0,u.jsx)("option",{children:"select"}),a()]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{htmlFor:"body",children:(0,d.__)("Body","wp-module-onboarding")}),(0,u.jsx)("br",{}),(0,u.jsxs)("select",{id:"body",value:n.body,onChange:e=>s({...n,body:e.target.value}),children:[(0,u.jsx)("option",{children:(0,d.__)("select","wp-module-onboarding")}),a()]})]})]}),(0,u.jsxs)("div",{className:`${e}__fonts-form__container__button__container`,children:[(0,u.jsx)(i.Button,{className:"cancel",onClick:()=>o(),children:(0,d.__)("Cancel","wp-module-onboarding")}),(0,u.jsx)(i.Button,{className:"apply",onClick:t,variant:"primary",children:(0,d.__)("Apply","wp-module-onboarding")})]})]})]}),g=({baseClassName:e,selectedGroup:n,selectedCustomFont:s,handleGroupSelect:o,handleEditCustomFont:t})=>(0,u.jsxs)("div",{className:`${e}__custom-fonts__container`,children:[(0,u.jsxs)("div",{className:`${e}__custom-fonts__container__header`,children:[(0,u.jsx)("h5",{className:`${e}__heading`,children:(0,u.jsx)("span",{children:(0,d.__)("CUSTOM FONTS","wp-module-onboarding")})}),(0,u.jsx)("button",{onClick:()=>t(),children:(0,d.__)("Edit fonts","wp-module-onboarding")})]}),(0,u.jsx)("div",{className:`${e}__font-group__container`,children:(0,u.jsxs)("div",{className:`${e}__font-group__container__button`,role:"presentation",onClick:()=>o("custom"),children:[(0,u.jsx)("span",{className:`${e}__font-group__container__button__icon${"custom"===n?" selected":""}`}),(0,u.jsxs)("div",{className:`${e}__font-group__container__button__font-name__container`,children:[(0,u.jsx)("span",{className:`${e}__font-group__container__button__font-name__container__heading`,style:{fontFamily:s.headings},children:s.headings}),(0,u.jsx)("br",{}),(0,u.jsx)("span",{className:`${e}__font-group__container__button__font-name__container__body`,style:{fontFamily:s.body},children:s.body})]})]})})]}),p=(0,o.forwardRef)((({baseClassName:e="nfd-onboarding-sidebar--customize__design-fonts-panel"},n)=>{const s=()=>{p(),C(null);const e=b.sitegen?.homepages?.active?.slug;e&&(b.sitegen.homepages.data[e].selectedFontGroup=null,b.sitegen.homepages.active.selectedFontGroup=null,j(b))},p=(e="",n="")=>{const s=b.sitegen?.homepages?.active?.slug;if(!s)return;const o={blocks:[{"core/heading":{typography:{fontFamily:e}},"core/body":{typography:{fontFamily:n}}}]},t={...b.sitegen.homepages.data[s],styles:o};b.sitegen.homepages.data[s]=t,b.sitegen.homepages.active=t,j(b)};(0,o.useImperativeHandle)(n,(()=>({resetToDefaultFonts:s})));const{currentData:b,customizeSidebarData:f}=(0,a.useSelect)((e=>({customizeSidebarData:e(l.M).getCustomizeSidebarData(),currentData:e(l.M).getCurrentOnboardingData()}))),x=f?.designStyles,{setCurrentOnboardingData:j}=(0,a.useDispatch)(l.M),y=x.map(((e,n)=>({id:n,headings:e.font_heading_name||e.font_heading,body:e.font_content_name||e.font_content,headingsSlug:e.font_heading,bodySlug:e.font_content}))),[v,C]=(0,t.useState)(null),[N,F]=(0,t.useState)(!1),[w,$]=(0,t.useState)({headings:"",body:""}),[S,G]=(0,t.useState)(null),[k,O]=(0,t.useState)(!1),D=x?.map((e=>e.font_heading)),T=x?.map((e=>e.font_content));(0,t.useEffect)((()=>{const e=b.sitegen.homepages.active.customFont,n=b.sitegen.homepages.active.selectedFontGroup;!w.headings&&e&&($(e),G(e)),v||!n&&0!==n||(C(n),"custom"===n&&F(!0))}),[b]),(0,t.useEffect)((()=>{null!=v&&(()=>{let e,n;const s=b.sitegen?.homepages?.active?.slug;"custom"===v?(e=`var(--wp--preset--font-family--${w.headings?.toLowerCase()})`,n=`var(--wp--preset--font-family--${w.body?.toLowerCase()})`,s&&(b.sitegen.homepages.data[s].customFont=w,b.sitegen.homepages.active.customFont=w)):(e=`var(--wp--preset--font-family--${y[v].headingsSlug?.toLowerCase()})`,n=`var(--wp--preset--font-family--${y[v].bodySlug?.toLowerCase()})`),b.sitegen.homepages.data[s].selectedFontGroup=v,b.sitegen.homepages.active.selectedFontGroup=v,p(e,n)})()}),[v,w]);const B=[...new Set([...D,...T])],E=e=>{"custom"!==e&&S&&F(!1),C(e);const n={headings:y[e].headings,body:y[e].body};(0,c.v)(new c.iC(_.ce,"generated",{fonts:n,source:r.d0}))};return(0,u.jsxs)(i.PanelBody,{className:e,initialOpen:!0,children:[(0,u.jsx)(i.PanelRow,{children:(0,u.jsxs)("div",{className:`${e}__container`,children:[(0,u.jsx)("div",{className:`${e}__container__text`,children:(0,u.jsx)("p",{className:`${e}__container__text__heading`,children:(0,u.jsx)("strong",{children:(0,d.__)("Fonts","wp-module-onboarding")})})}),(0,u.jsx)("div",{children:y.map((n=>(0,u.jsx)(m,{baseClassName:e,group:n,selectedGroup:v,handleGroupSelect:E},n.id)))})]})}),(0,u.jsxs)(i.PanelRow,{children:[!N&&(0,u.jsx)("div",{className:`${e}__container`,children:(0,u.jsx)(i.Button,{onClick:()=>{F(!0),C("custom"),S||O(!0)},children:(0,d.__)("Select your own fonts","wp-module-onboarding")})}),N&&k&&(0,u.jsx)(h,{baseClassName:e,customFont:w,setCustomFont:$,handleCancelCustomFonts:()=>{S.heading&&S.body?O(!1):F(!1)},handleApplyCustomFonts:()=>{C(null),G(w),(0,c.v)(new c.iC(_.ce,"custom",{fonts:w,source:r.d0})),O(!1),C("custom")},renderFontOptions:()=>B.map((e=>(0,u.jsx)("option",{value:e,children:e},e)))}),N&&!k&&(0,u.jsx)(g,{baseClassName:e,selectedGroup:v,selectedCustomFont:S,handleGroupSelect:E,handleEditCustomFont:()=>{O(!0)}})]})]})}))}}]);