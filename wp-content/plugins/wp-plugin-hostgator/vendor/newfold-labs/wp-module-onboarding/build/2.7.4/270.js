"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[270],{1270:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(7675),a=n(7143),o=n(8468),i=n(4348),s=n(7723),u=n(3474);var l=n(6079),d=n(518),g=n(5677),b=n(8969),c=n(1032),w=n(790);const p=()=>{const{setIsDrawerSuppressed:e,setIsHeaderNavigationEnabled:t,setSidebarActiveView:n,updateThemeStatus:p,flushQueue:m}=(0,a.useDispatch)(r.M),f=(0,i.Zp)(),[S,h]=(0,o.useState)(!1),{nextStep:_,brandName:y,isQueueEmpty:N,currentData:E}=(0,a.useSelect)((e=>({nextStep:e(r.M).getNextStep(),brandName:e(r.M).getNewfoldBrandName(),isQueueEmpty:e(r.M).isQueueEmpty(),currentData:e(r.M).getCurrentOnboardingData()})),[]),x=(e=>({loader:{title:(0,s.sprintf)(/* translators: 1: Brand 2: site or store */ /* translators: 1: Brand 2: site or store */
(0,s.__)("Hang tight, we’re building your %1$s %2$s","wp-module-onboarding"),e,(0,u.P)("site")),subtitle:(0,s.__)("We’re assembling your unique design and installing useful tools","wp-module-onboarding")},errorState:{title:(0,s.sprintf)(/* translators: 1: Brand 2: site or store */ /* translators: 1: Brand 2: site or store */
(0,s.__)("Hang tight, we’re building your %1$s %2$s","wp-module-onboarding"),e,(0,u.P)("site")),subtitle:(0,s.__)("We’re assembling your unique design and installing useful tools","wp-module-onboarding"),error:(0,s.__)("Uh-oh, something went wrong. Please contact support.","wp-module-onboarding")}}))(y);async function k(){const e=await(0,l.IS)();return!e?.error}const v=()=>{t(!1),e(!0),n(!1)};return(0,o.useEffect)((()=>{N?(async()=>{!0===E?.data?.comingSoon&&window.NewfoldRuntime?.comingSoon&&await window.NewfoldRuntime.comingSoon.enable(),await Promise.all([k()]).then((e=>e.forEach((e=>{if(!e)return t(!0),h(!0)})))),f(_.path),p(b.So)})():m()}),[N]),(0,o.useEffect)((()=>{v()}),[]),(0,w.jsx)(c.UX,{navigationStateCallback:v,refresh:!1,children:S?(0,w.jsx)(g.W,{title:x.errorState.title,subtitle:x.errorState.subtitle,error:x.errorState.error}):(0,w.jsx)(d.S,{title:x.loader.title,subtitle:x.loader.subtitle})})}}}]);