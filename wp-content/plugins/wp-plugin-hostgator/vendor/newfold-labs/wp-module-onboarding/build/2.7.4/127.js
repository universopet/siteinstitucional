"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[127],{1127:(e,r,n)=>{n.r(r),n.d(r,{default:()=>w});var a=n(8468),s=n(7723),t=n(6427),d=n(7143),i=n(7675),o=n(790);const l=()=>{const{currentUserInfo:e}=(0,d.useSelect)((e=>({currentUserInfo:e(i.M).getCurrentUserDetails()})),[]);return e?(0,o.jsxs)("div",{className:"nfd-onboarding-header__admin-bar",children:[(0,o.jsxs)("div",{className:"nfd-onboarding-header__admin-bar__wplogo",children:[(0,o.jsx)(t.Dashicon,{icon:"wordpress"}),(0,o.jsx)("span",{children:(0,s.__)("WordPress","wp-module-onboarding")})]}),(0,o.jsxs)("div",{className:"nfd-onboarding-header__admin-bar__profile",children:[(0,o.jsx)("span",{className:"nfd-onboarding-header__admin-bar__profile__greeting",children:(0,o.jsxs)("span",{children:[(0,s.__)("Howdy! ","wp-module-onboarding"),e.displayName]})}),(0,o.jsx)("div",{className:"nfd-onboarding-header__admin-bar__profile__avatar",children:(0,o.jsx)("img",{src:e.avatarUrl,alt:e.displayName})})]})]}):null},c=({progress:e=20})=>(0,o.jsx)("div",{className:"nfd-onboarding-header__progress-bar",children:(0,o.jsx)("div",{style:{width:`${e}%`},className:"nfd-onboarding-header__progress-bar__progress"})});var p=n(8969),h=n(9034),g=n(7677),u=n(1607),_=n(4348),b=n(6942),x=n.n(b);const m=({children:e,onClick:r})=>(0,o.jsx)(t.Button,{onClick:()=>r(),className:x()("nfd-onboarding-button--dark"),children:e});var j=n(4487);const S=({path:e})=>{const{siteGenErrorStatus:r}=(0,d.useSelect)((e=>({siteGenErrorStatus:e(i.M).getSiteGenErrorStatus()}))),{updateSiteGenErrorStatus:n}=(0,d.useDispatch)(i.M),a=(0,_.Zp)();return(0,o.jsxs)(m,{onClick:()=>{!0===r&&n(!1),a(e,{state:{origin:"header"}})},variant:"secondary",children:[(0,o.jsx)(g.A,{icon:u.A}),(0,s.__)("Back","wp-module-onboarding")]})},v=()=>{const{previousStep:e,currentStep:r}=(0,d.useSelect)((e=>({previousStep:e(i.M).getPreviousStep(),currentStep:e(i.M).getCurrentStep()})),[]),n=null===e||!1===e,a=r?.path===j.b?.path;return(0,o.jsx)("div",{className:"nfd-onboarding-header--sitegen__step-navigation",children:n||a?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)(S,{path:e.path})})};var f=n(6087),N=n(3731);const w=(0,a.memo)((()=>{const{isHeaderNavigationEnabled:e,currentStep:r,allSteps:n}=(0,d.useSelect)((e=>({currentStep:e(i.M).getCurrentStep(),isHeaderNavigationEnabled:e(i.M).isHeaderNavigationEnabled(),allSteps:e(i.M).getAllSteps()}))),a=(0,f.findIndex)(n,{path:r?.path}),s=Math.abs((a-1)/(n.length-1)*100);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.Fill,{name:`${p.Ix}/${p.KK}`,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l,{}),r!==h.O&&r!==N.O&&(0,o.jsx)(c,{progress:s})]})}),(0,o.jsx)(t.Fill,{name:`${p.Ix}/${p.nK}`,children:(0,o.jsx)(o.Fragment,{children:e&&(0,o.jsx)(v,{})})}),r?.header&&(0,o.jsx)(r.header,{})]})}))}}]);