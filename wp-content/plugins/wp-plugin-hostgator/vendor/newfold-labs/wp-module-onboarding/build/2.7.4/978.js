"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[978],{1978:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var n=s(6087),c=s(9491),a=s(8468),i=s(7143),o=s(7675),l=s(8969),r=s(3988),d=s(8559),u=s(4639),h=s(7677),b=s(8176),x=s(6427),g=s(431),m=s(790);const p=({name:e,icon:t,title:s,desc:n,subtitle:c,callback:i,tabIndex:o=0,isSelectedDefault:l,fullWidth:r=!1,className:d="checkbox-item"})=>{const[u,p]=(0,a.useState)(!1),[_,v]=(0,a.useState)(l),j=()=>{p(!u)};return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:`${d} ${_&&`${d}--selected`} ${r&&`${d}--full-width`} ${u&&`${d}--shown`}`,children:(0,m.jsxs)("div",{className:`${d}-container`,children:[(0,m.jsx)(x.CheckboxControl,{checked:_,onChange:()=>{v(!_),i(e,!_)},className:`${d}-checkbox`}),(0,m.jsxs)("div",{className:`${d}__contents`,children:[(0,m.jsx)("div",{className:`${d}__contents-icon\n                                     ${_&&`${d}__contents-icon--selected`}\n                                     ${u&&`${d}__contents-icon--shown`}`,children:(0,m.jsx)("div",{style:{width:"35px",height:"35px",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundImage:`var(${t})`,filter:_?"invert(100%) sepia(100%) saturate(0%) hue-rotate(288deg) brightness(102%) contrast(102%)":"none"}})}),(0,m.jsxs)("div",{className:`${d}__contents-text`,children:[(0,m.jsx)("div",{className:`${d}__contents-text-title ${_&&`${d}__contents-text-title--selected`}`,children:s}),(0,m.jsx)("div",{className:`${d}__contents-text-subtitle`,children:c})]}),(0,m.jsx)("div",{className:`${d}__contents-help ${u?"highlighted":""}`,onClick:j,role:"button",onKeyDown:j,tabIndex:o,children:(0,m.jsx)(h.A,{icon:b.A,style:{width:"30px",height:"30px"}})})]})]})}),u&&(0,m.jsx)(g.A,{className:` ${d}__dropdown `,type:"dropdown",children:(0,m.jsx)("div",{className:`${d}__desc ${r&&`${d}__desc--full-width`}`,children:n})})]})},_=({count:e})=>{const t=()=>{const t=[];for(let s=0;s<e;s++)t.push((0,m.jsx)(g.A,{type:"shine-placeholder",className:"checkbox-skeleton-item"}));return t};return(0,m.jsxs)("div",{className:"checkbox-list",children:[(0,m.jsx)("div",{className:"checkbox-list-col",children:t().slice(0,Math.floor(e/2))}),(0,m.jsx)("div",{className:"checkbox-list-col",children:t().slice(Math.floor(e/2),e)})]})},v=({callback:e,selectedItems:t,customItemsList:s})=>{const n=Object.keys(s).length,c=()=>{var n=[];for(const a in s){var c=s[a];const i=t[c.slug];n.push((0,m.jsx)(p,{name:c.slug,icon:c.icon,title:c.title,subtitle:c.subtitle,desc:c.desc,callback:e,isSelectedDefault:null!=i&&i}))}return n};return(0,m.jsxs)("div",{className:"checkbox-list",children:[(0,m.jsx)("div",{className:"checkbox-list-col",children:c().slice(0,Math.floor(n/2))}),(0,m.jsx)("div",{className:"checkbox-list-col",children:c().slice(Math.floor(n/2),n)})]})};var j=s(7723);var f=s(3474);const w=()=>{const e={title:(0,j.__)("Coming Soon","wp-module-onboarding"),subtitle:(0,j.sprintf)(/* translators: %s: site or store */ /* translators: %s: site or store */
(0,j.__)("Keep your %s private until you click launch","wp-module-onboarding"),(0,f.P)("site")),desc:(0,j.sprintf)(/* translators: %s: site or store */ /* translators: %s: site or store */
(0,j.__)("We'll show a placeholder page to logged-out visitors while you build your %s.","wp-module-onboarding"),(0,f.P)("site"))},{currentData:t}=(0,i.useSelect)((e=>({currentData:e(o.M).getCurrentOnboardingData()})),[]),{setCurrentOnboardingData:s}=(0,i.useDispatch)(o.M);return(0,m.jsx)("div",{className:"coming_soon__wrapper",children:(0,m.jsx)(p,{name:"coming_soon",title:e.title,subtitle:e.subtitle,icon:"--site-features-comingsoon",desc:e.desc,callback:async function(e,n){t.data.comingSoon=n,s(t)},fullWidth:!0,isSelectedDefault:t?.data?.comingSoon})})},k=()=>{const e=(0,c.useViewportMatch)("medium"),[t,s]=(0,a.useState)(),[h,b]=(0,a.useState)(),{setIsDrawerOpened:x,setDrawerActiveView:g,setSidebarActiveView:p,setCurrentOnboardingData:f,setIsDrawerSuppressed:k,setIsHeaderNavigationEnabled:$}=(0,i.useDispatch)(o.M),{currentStep:N,currentData:y,themeVariations:S}=(0,i.useSelect)((e=>({currentStep:e(o.M).getCurrentStep(),currentData:e(o.M).getCurrentOnboardingData(),themeVariations:e(o.M).getStepPreviewData()})),[]);(0,a.useEffect)((()=>{e&&x(!1),p(l.Qe),k(!1),g(l.vO),$(!0),async function(){const e=await(0,d.ze)();(0,n.isEmpty)(y?.data?.siteFeatures)?async function(e,t=!1){const n={};for(const t in e){const s=e[t];n[s.slug]=s.selected}s(n),t&&(y.data.siteFeatures={...n},f(y))}(e.body,!0):s({...y?.data?.siteFeatures}),b(e.body)}()}),[]);const D={heading:(0,j.__)("Key features to supercharge your site","wp-module-onboarding"),subheading:(0,j.__)("Our toolbox of Plugins & Services is your toolbox.","wp-module-onboarding")};return(0,m.jsxs)(r.A,{children:[(0,m.jsx)("div",{className:"site-features__heading",children:(0,m.jsx)(u.A,{title:D.heading,subtitle:D.subheading})}),!h&&(0,m.jsx)(_,{count:S[N?.data?.patternId]?.previewCount}),h&&(0,m.jsx)(v,{callback:async function(e,n){const c={...t};c[e]=n,s(c),y.data.siteFeatures={...c},f(y)},selectedItems:t,customItemsList:h}),h&&(0,m.jsx)(w,{})]})}}}]);